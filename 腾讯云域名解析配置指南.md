# 腾讯云自定义源站域名解析配置指南

## 问题描述
当前检测到域名缺少CNAME记录，需要正确配置域名解析指向腾讯云存储桶。

## 配置前准备
1. 已创建腾讯云存储桶：`finance-tax-website`
2. 域名：`www.0slm.com` 和 `www.0slm.cn`
3. 域名服务商：DNSPod

## 第一步：获取腾讯云存储桶域名

### 方法一：默认域名
1. 登录腾讯云控制台 → 对象存储（COS）
2. 选择存储桶：`finance-tax-website`
3. 查看**概览**页面的**访问域名**
   - 格式：`finance-tax-website-125xxxxxx.cos.ap-guangzhou.myqcloud.com`

### 方法二：静态网站域名
1. 进入存储桶 → **域名与传输管理** → **静态网站**
2. 查看**访问节点**的域名

## 第二步：DNSPod域名解析配置

### 配置CNAME记录
在DNSPod控制台为每个域名配置：

**对于 www.0slm.com：**
```
记录类型：CNAME
主机记录：www
记录值：finance-tax-website-125xxxxxx.cos.ap-guangzhou.myqcloud.com
TTL：600
线路类型：默认
```

**对于 www.0slm.cn：**
```
记录类型：CNAME
主机记录：www
记录值：finance-tax-website-125xxxxxx.cos.ap-guangzhou.myqcloud.com
TTL：600
线路类型：默认
```

### 配置根域名（可选）
如果需要支持 `0slm.com`（无www）：
```
记录类型：CNAME
主机记录：@
记录值：finance-tax-website-125xxxxxx.cos.ap-guangzhou.myqcloud.com
TTL：600
```

## 第三步：腾讯云存储桶域名绑定

### 绑定自定义域名
1. 进入存储桶 → **域名与传输管理** → **自定义加速域名**
2. 点击**添加域名**
3. 依次添加：
   - `www.0slm.com`
   - `www.0slm.cn`
4. 配置选项：
   - 源站类型：**默认源站**
   - 加速区域：**中国大陆**
   - 开启**静态网站**

### 域名验证
1. 腾讯云会提示进行域名所有权验证
2. 按照提示在DNSPod添加TXT记录验证
3. 验证通过后域名状态变为**已启动**

## 第四步：验证配置

### 验证DNS解析
使用命令验证CNAME记录是否生效：
```bash
# 检查www.0slm.com的CNAME记录
nslookup -type=CNAME www.0slm.com

# 检查www.0slm.cn的CNAME记录  
nslookup -type=CNAME www.0slm.cn
```

### 验证网站访问
等待DNS生效（通常10-30分钟）后访问：
- http://www.0slm.com
- http://www.0slm.cn

## 常见问题解决

### 问题1：CNAME记录未生效
**症状：** 检测不到CNAME记录
**解决：**
1. 确认DNSPod配置正确
2. 等待DNS缓存刷新（最长48小时）
3. 检查记录值是否正确复制存储桶域名

### 问题2：域名验证失败
**症状：** 腾讯云提示域名所有权验证失败
**解决：**
1. 确认TXT记录已正确添加
2. 检查TXT记录值是否完全匹配
3. 等待DNS生效后重试验证

### 问题3：网站无法访问
**症状：** DNS解析正常但网站打不开
**解决：**
1. 检查存储桶静态网站功能是否开启
2. 确认文件已上传到存储桶根目录
3. 检查存储桶访问权限是否为**公有读私有写**

## 重要注意事项

1. **DNS生效时间**：CNAME记录变更需要10分钟到48小时生效
2. **备案要求**：使用国内地域的存储桶需要域名备案
3. **HTTPS支持**：腾讯云自动为自定义域名提供SSL证书
4. **CDN加速**：建议开启CDN加速提升访问速度

## 配置检查清单

- [ ] 获取腾讯云存储桶域名
- [ ] 在DNSPod配置CNAME记录
- [ ] 在腾讯云绑定自定义域名
- [ ] 完成域名所有权验证
- [ ] 验证DNS解析生效
- [ ] 测试网站访问正常

完成以上步骤后，您的域名将正确指向腾讯云存储桶，网站可以正常访问。