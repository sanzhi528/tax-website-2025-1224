<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>在线咨询 - 财务税务代理公司</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <div class="logo-placeholder"><img src="images/LOGO图标.jpg" alt="财务税务代理公司" style="width: 40px; height: 40px; object-fit: contain;"></div>
                <span id="company-name">财务税务代理公司</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">首页</a></li>
                <li><a href="index.html#services">服务项目</a></li>
                <li><a href="index.html#about">关于我们</a></li>
                <li><a href="index.html#contact">联系我们</a></li>
                <li><a href="login.html" class="login-btn">登录/注册</a></li>
            </ul>
            <div class="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- 咨询表单 -->
    <div class="container">
        <div class="form-container">
            <h2>在线咨询</h2>
            <p style="text-align: center; margin-bottom: 30px; color: #666;">请填写以下信息，我们的专业顾问将尽快与您联系</p>
            
            <form id="consultForm" action="api/consult.php" method="POST">
                <div class="form-group">
                    <label for="consult-name">姓名 *</label>
                    <input type="text" id="consult-name" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="consult-phone">手机号码 *</label>
                    <input type="tel" id="consult-phone" name="phone" required>
                </div>
                
                <div class="form-group">
                    <label for="consult-email">邮箱地址</label>
                    <input type="email" id="consult-email" name="email">
                </div>
                
                <div class="form-group">
                    <label for="consult-company">公司名称</label>
                    <input type="text" id="consult-company" name="company">
                </div>
                
                <div class="form-group">
                    <label for="consult-service">咨询业务 *</label>
                    <select id="consult-service" name="service" required>
                        <option value="">请选择服务类型</option>
                        <option value="business">工商代理</option>
                        <option value="ip">知识产权</option>
                        <option value="accounting">会计服务</option>
                        <option value="banking">银行开户</option>
                        <option value="other">其他服务</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="consult-details">具体需求描述 *</label>
                    <textarea id="consult-details" name="details" placeholder="请详细描述您的需求，例如：需要注册公司、商标申请、记账报税等..." required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="consult-budget">预算范围</label>
                    <select id="consult-budget" name="budget">
                        <option value="">请选择预算范围</option>
                        <option value="1000以下">1000元以下</option>
                        <option value="1000-3000">1000-3000元</option>
                        <option value="3000-5000">3000-5000元</option>
                        <option value="5000-10000">5000-10000元</option>
                        <option value="10000以上">10000元以上</option>
                        <option value="面议">需要面议</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="consult-urgency">紧急程度</label>
                    <select id="consult-urgency" name="urgency">
                        <option value="一般">一般（1-3个工作日内）</option>
                        <option value="较急">较急（24小时内）</option>
                        <option value="紧急">紧急（立即处理）</option>
                    </select>
                </div>
                
                <button type="submit" class="submit-btn">提交咨询</button>
            </form>
        </div>
    </div>

    <!-- 服务热线 -->
    <section style="background: #f8f9fa; padding: 40px 0; text-align: center;">
        <div class="container">
            <h3>服务热线</h3>
            <p style="font-size: 1.5rem; color: #e74c3c; font-weight: bold; margin: 10px 0;">400-123-4567</p>
            <p>工作日 9:00-18:00 为您服务</p>
        </div>
    </section>

    <script src="js/main.js"></script>
    <script>
        // 咨询表单处理
        document.getElementById('consultForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            
            // 显示提交中状态
            const submitBtn = this.querySelector('.submit-btn');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = '提交中...';
            submitBtn.disabled = true;
            
            fetch('api/consult.php', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('咨询提交成功！我们的顾问将在24小时内与您联系。');
                    this.reset();
                } else {
                    alert(data.message || '提交失败，请重试');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('提交过程中发生错误，请稍后重试');
            })
            .finally(() => {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            });
        });
        
        // 实时验证手机号码
        document.getElementById('consult-phone').addEventListener('input', function() {
            const phone = this.value.trim();
            if (phone && !/^1[3-9]\d{9}$/.test(phone)) {
                this.style.borderColor = '#e74c3c';
            } else {
                this.style.borderColor = '#ddd';
            }
        });
    </script>
</body>
</html>
